<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Try Out 1 â€“ SSW JidÅsha Seibi</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="../style.css">
</head>

<body>

<header>
  <h1>ğŸ“ Try Out 1</h1>
  <p>SSW JidÅsha Seibi | 50 Soal | 50 Menit</p>
</header>

<nav>
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="jidousha-seibi.html">JidÅsha Seibi</a></li>
    <li><a href="tryout-menu.html">Menu Try Out</a></li>
  </ul>
</nav>

<div class="container">

<!-- TIMER -->
<div class="card">
  <h2>â±ï¸ Waktu</h2>
  <p id="timer" style="font-size:1.3rem;font-weight:bold;color:#b00020;">
    50:00
  </p>
</div>

<!-- START -->
<div class="card" id="startBox">
  <p>
    Ini adalah simulasi Try Out SSW.  
    Waktu akan berjalan setelah tombol ditekan.
  </p>
  <button class="btn" onclick="mulai()">â–¶ï¸ Mulai Try Out</button>
</div>

<!-- FORM SOAL -->
<form id="quizForm" class="card" style="display:none;">
  <h2>Soal</h2>

  <div id="soalContainer"></div>

  <button type="button" class="btn" onclick="selesai()">
    ğŸ“Š Selesai & Lihat Nilai
  </button>
</form>

<!-- HASIL -->
<div id="hasil" class="card" style="display:none;"></div>

</div>

<footer>
  Â© 2025 Manabu Mantappu â€“ Try Out SSW
</footer>

<script>
/* ================================================= */
/* BANK SOAL (CONTOH 5 SOAL â€” GANTI JADI 50) */
/* ================================================= */
const bankSoal = [
  {
    soal: "ã€Œç‚¹æ¤œã€ã®æ„å‘³ã¯ã©ã‚Œã§ã™ã‹ã€‚",
    opsi: ["Perbaikan", "Pemeriksaan", "Penggantian"],
    jawaban: 1
  },
  {
    soal: "ã€Œæ•´å‚™ã€ã®æ„å‘³ã¯ã©ã‚Œã§ã™ã‹ã€‚",
    opsi: ["Perawatan", "Pemeriksaan", "Kerusakan"],
    jawaban: 0
  },
  {
    soal: "ã€Œä¿®ç†ã€ã®æ„å‘³ã¯ã©ã‚Œã§ã™ã‹ã€‚",
    opsi: ["Pemeriksaan", "Perbaikan", "Keselamatan"],
    jawaban: 1
  },
  {
    soal: "ã€Œå®‰å…¨ã€ã®æ„å‘³ã¯ã©ã‚Œã§ã™ã‹ã€‚",
    opsi: ["Bahaya", "Keselamatan", "Kerusakan"],
    jawaban: 1
  },
  {
    soal: "ã€Œå·¥å…·ã€ã®æ„å‘³ã¯ã©ã‚Œã§ã™ã‹ã€‚",
    opsi: ["Mesin", "Alat", "Pemeriksaan"],
    jawaban: 1
  }
];

/* ================================================= */
/* VARIABEL */
/* ================================================= */
let soalUjian = [];
let waktu = 50 * 60;
let interval = null;

/* ================================================= */
/* RENDER SOAL */
/* ================================================= */
function renderSoal() {
  const box = document.getElementById("soalContainer");
  box.innerHTML = "";

  soalUjian.forEach((s, i) => {
    let html = `<p><b>${i + 1}. ${s.soal}</b></p>`;
    s.opsi.forEach((o, idx) => {
      html += `
        <label>
          <input type="radio" name="q${i}" value="${idx}">
          ${o}
        </label><br>
      `;
    });
    html += "<hr>";
    box.innerHTML += html;
  });
}

/* ================================================= */
/* MULAI TRY OUT */
/* ================================================= */
function mulai() {
  document.getElementById("startBox").style.display = "none";
  document.getElementById("quizForm").style.display = "block";

  // Ambil 50 soal (acak)
  soalUjian = bankSoal
    .sort(() => 0.5 - Math.random())
    .slice(0, 50);

  renderSoal();

  const timerEl = document.getElementById("timer");

  function update() {
    const m = Math.floor(waktu / 60);
    const s = waktu % 60;
    timerEl.textContent = `${m}:${s.toString().padStart(2,"0")}`;

    if (waktu <= 0) {
      selesai();
    }
    waktu--;
  }

  update();
  interval = setInterval(update, 1000);
}

/* ================================================= */
/* SELESAI + HITUNG NILAI */
/* ================================================= */
function selesai() {
  clearInterval(interval);

  let benar = 0;

  soalUjian.forEach((s, i) => {
    const p = document.querySelector(`input[name="q${i}"]:checked`);
    if (p && parseInt(p.value) === s.jawaban) {
      benar++;
    }
  });

  const nilai = Math.round((benar / soalUjian.length) * 100);
  const status = nilai >= 70 ? "LULUS âœ…" : "BELUM LULUS âŒ";

  document.getElementById("quizForm").style.display = "none";

  const hasil = document.getElementById("hasil");
  hasil.style.display = "block";
  hasil.innerHTML = `
    <h2>ğŸ“Š Hasil Try Out</h2>
    <p>Jawaban benar: <b>${benar}</b> / ${soalUjian.length}</p>
    <p><b>Nilai: ${nilai}</b></p>
    <p>Status: <b>${status}</b></p>

    <a href="bahasa-bengkel.html" class="btn">
      ğŸ“˜ Lanjut Belajar
    </a>

    <a href="tryout-menu.html" class="btn" style="margin-top:10px;">
      ğŸ” Kembali ke Menu Try Out
    </a>
  `;

  window.scrollTo({ top: hasil.offsetTop, behavior: "smooth" });
}
</script>

</body>
</html>
